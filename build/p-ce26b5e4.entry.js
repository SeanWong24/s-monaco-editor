import{r as n,c as t,h as e,H as r}from"./p-54dc6756.js";function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function o(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){i(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function a(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function u(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function s(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function f(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?s(Object(e),!0).forEach((function(t){u(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function l(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduceRight((function(n,t){return t(n)}),n)}}function d(n){return function t(){for(var e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=n.length?n.apply(this,i):function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(e,[].concat(i,r))}}}function h(n){return{}.toString.call(n).includes("Object")}function b(n){return"function"==typeof n}var v=d((function(n,t){throw new Error(n[t]||n.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),j=function(n,t){return h(t)||v("changeType"),Object.keys(t).some((function(t){return!Object.prototype.hasOwnProperty.call(n,t)}))&&v("changeField"),t},p=function(n){b(n)||v("selectorType")},y=function(n){b(n)||h(n)||v("handlerType"),h(n)&&Object.values(n).some((function(n){return!b(n)}))&&v("handlersType")},m=function(n){n||v("initialIsRequired"),h(n)||v("initialType"),Object.keys(n).length||v("initialContent")};function g(n,t){return b(t)?t(n.current):t}function w(n,t){return n.current=f(f({},n.current),t),t}function O(n,t,e){return b(t)?t(n.current):Object.keys(e).forEach((function(e){var r;return null===(r=t[e])||void 0===r?void 0:r.call(t,n.current[e])})),e}var T,A=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(n),y(t);var e={current:n},r=d(O)(e,t),i=d(w)(e),o=d(j)(n),c=d(g)(e);function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(n){return n};return p(n),n(e.current)}function u(n){l(r,i,o,c)(n)}return[a,u]},I={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},k=(T=function(n,t){throw new Error(n[t]||n.default)},function n(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.length>=T.length?T.apply(this,r):function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n.apply(t,[].concat(r,i))}})(I),q=function(n){return n||k("configIsRequired"),{}.toString.call(n).includes("Object")||k("configType"),n.urls?(console.warn(I.deprecation),{paths:{vs:n.urls.monacoBase}}):n};function S(n,t){return Object.keys(t).forEach((function(e){t[e]instanceof Object&&n[e]&&Object.assign(t[e],S(n[e],t[e]))})),c(c({},n),t)}var C={type:"cancelation",msg:"operation is manually canceled"};function R(n){var t=!1,e=new Promise((function(e,r){n.then((function(n){return t?r(C):e(n)})),n.catch(r)}));return e.cancel=function(){return t=!0},e}var z,E=(2,function(n){if(Array.isArray(n))return n}(z=A({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var t=[],e=!0,r=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(e=(o=c.next()).done)&&(t.push(o.value),2!==t.length);e=!0);}catch(n){r=!0,i=n}finally{try{e||null==c.return||c.return()}finally{if(r)throw i}}return t}}(z)||function(n){if(n){if("string"==typeof n)return a(n,2);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,2):void 0}}(z)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=E[0],L=E[1];function P(n){return document.body.appendChild(n)}function D(n){var t,e,r=F((function(n){return{config:n.config,reject:n.reject}})),i=(t="".concat(r.config.paths.vs,"/loader.js"),e=document.createElement("script"),t&&(e.src=t),e);return i.onload=function(){return n()},i.onerror=r.reject,i}function M(){var n=F((function(n){return{config:n.config,resolve:n.resolve,reject:n.reject}})),t=window.require;t.config(n.config),t(["vs/editor/editor.main"],(function(t){U(t),n.resolve(t)}),(function(t){n.reject(t)}))}function U(n){F().monaco||L({monaco:n})}var _=new Promise((function(n,t){return L({resolve:n,reject:t})})),x=function(n){L((function(t){return{config:S(t.config,q(n))}}))},B=function(){if(!F((function(n){return{isInitialized:n.isInitialized}})).isInitialized){if(window.monaco&&window.monaco.editor)return U(window.monaco),R(Promise.resolve(window.monaco));!function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduceRight((function(n,t){return t(n)}),n)}}(P,D)(M),L({isInitialized:!0})}return R(_)};const H=class{constructor(e){n(this,e),this.componentLoad=t(this,"componentLoad",7),this.didChangeModelContent=t(this,"didChangeModelContent",7),this.readOnly=!1}async componentDidLoad(){this.monacoVsPath&&x({paths:{vs:this.monacoVsPath}}),this.monaco=await B(),this.editor=this.monaco.editor.create(this.editorContainer,{value:this.value,language:this.language,theme:this.theme,readOnly:this.readOnly,automaticLayout:!0}),this.editor.onDidChangeModelContent((n=>{this.value=this.editor.getValue(),this.didChangeModelContent.emit(n)})),this.componentLoad.emit({monaco:this.monaco,editor:this.editor})}componentShouldUpdate(n,t,e){switch(e){case"value":n!==this.editor.getValue()&&this.editor.setValue(n);break;case"language":this.monaco.editor.setModelLanguage(this.editor.getModel(),n);break;default:const t={};t[e]=n,this.editor.updateOptions(t)}return!1}render(){return e(r,null,e("div",{id:"editor-container",ref:n=>this.editorContainer=n}))}};H.style=".sc-s-monaco-editor-h{display:inline-block;width:100%;height:100%}#editor-container.sc-s-monaco-editor{width:100%;height:100%}";export{H as s_monaco_editor}